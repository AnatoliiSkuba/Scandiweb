"use strict";(self.webpackChunkscandiweb_my=self.webpackChunkscandiweb_my||[]).push([[516],{1900:function(t,n,e){e.r(n),e.d(n,{default:function(){return K}});var r,i,c,u,o,s,a,d,p,l,h,f,b,g=e(4165),x=e(5861),m=e(4942),Z=e(1413),y=e(2982),k=e(5671),v=e(3144),j=e(136),w=e(7277),C=e(2791),P=e(6434),A=e(7413),I=e(34),O=e(168),q=(0,e(4242).Ps)(r||(r=(0,O.Z)(["\n\tquery getProductById($productId: String!) {\n\t\tproduct(id: $productId) {\n\t\t\tid\n\t\t\tbrand\n\t\t\tname\n\t\t\tgallery\n\t\t\tinStock\n\t\t\tprices {\n\t\t\t\tcurrency {\n\t\t\t\t\tsymbol\n\t\t\t\t}\n\t\t\t\tamount\n\t\t\t}\n\t\t\tcategory\n\t\t\tdescription\n\t\t\tattributes {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\ttype\n\t\t\t\titems {\n\t\t\t\t\tdisplayValue\n\t\t\t\t\tvalue\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),S=e(5783),z=e(8221),T=e(6031),D=T.ZP.section(i||(i=(0,O.Z)(["\n\tdisplay: flex;\n\tpadding-top: 160px;\n"]))),E=T.ZP.ul(c||(c=(0,O.Z)(["\n\theight: 511px;\n\twidth: 79px;\n\tdisplay: block;\n\toverflow: auto;\n\t::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n"]))),$=T.ZP.li(u||(u=(0,O.Z)(["\n\twidth: 79px;\n\theight: 80px;\n\tcursor: pointer;\n\t&: not(: last-child) {\n\t\tmargin-bottom: 40px;\n\t} ;\n"]))),J=T.ZP.img(o||(o=(0,O.Z)(["\n\twidth: 79px;\n\theight: 80px;\n\tobject-fit: contain;\n"]))),N=T.ZP.img(s||(s=(0,O.Z)(["\n\tmargin: 0 100px 0 40px;\n\twidth: 610px;\n\theight: 511px;\n\tobject-fit: contain;\n"]))),_=T.ZP.div(a||(a=(0,O.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),B=T.ZP.h3(d||(d=(0,O.Z)(["\n\tmargin-bottom: 16px;\n\tfont-weight: 600;\n\tfont-size: 30px;\n\tline-height: 27px;\n"]))),M=T.ZP.p(p||(p=(0,O.Z)(["\n\tmargin-bottom: 19px;\n\tfont-weight: 400;\n\tfont-size: 30px;\n\tline-height: 27px;\n"]))),R=T.ZP.p(l||(l=(0,O.Z)(["\n\tmargin: 38px 0 10px;\n\tfont-weight: 700;\n\tfont-size: 18px;\n\tline-height: 18px;\n"]))),V=T.ZP.p(h||(h=(0,O.Z)(["\n\tmargin-bottom: 20px;\n\tfont-weight: 700;\n\tfont-size: 24px;\n\tline-height: 18px;\n"]))),X=T.ZP.button(f||(f=(0,O.Z)(["\n\tmargin-bottom: 40px;\n\twidth: 292px;\n\theight: 52px;\n\tfont-weight: 600;\n\tfont-size: 16px;\n\tline-height: 120%;\n\tcolor: #fff;\n\tbackground-color: var(--accent-color);\n\tborder: 0;\n\tcursor: pointer;\n"]))),F=T.ZP.p(b||(b=(0,O.Z)(["\n\twidth: 292px;\n\tfont-weight: 400;\n\tfont-size: 16px;\n\tline-height: 159.96%;\n"]))),G=e(184),H=function(t){(0,j.Z)(e,t);var n=(0,w.Z)(e);function e(){var t;(0,k.Z)(this,e);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(t=n.call.apply(n,[this].concat(i))).state={product:{},currentImage:"",currentAttributes:[]},t.currentImageClick=function(n){t.setState({currentImage:n.target.currentSrc})},t.handleClickAttribute=function(n,e){var r=(0,y.Z)(t.state.currentAttributes);null!==r&&void 0!==r&&r.some((function(t){return Object.keys(t)[0]===n}))?r.forEach((function(t,i){Object.keys(t)[0]===n&&t[n]===e?r.splice(i,1):Object.keys(r[i])[0]===n&&r.splice(i,1,(0,Z.Z)((0,Z.Z)({},r[i]),{},(0,m.Z)({},n,e)))})):r.push((0,m.Z)({},n,e)),t.setState({currentAttributes:r})},t}return(0,v.Z)(e,[{key:"componentDidMount",value:function(){this.fetchProduct()}},{key:"fetchProduct",value:function(){var t=(0,x.Z)((0,g.Z)().mark((function t(){var n;return(0,g.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.Z.query({query:q,variables:{productId:this.props.router.params.productId}});case 2:n=t.sent,this.setState({product:n.data.product});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"addToCart",value:function(){var t=this.state,n=t.product,e=t.currentAttributes,r=(0,y.Z)(this.props.products),i=0;if(n.attributes.length===e.length){r.some((function(t){return t.id===n.id}))?r.forEach((function(t,c){t.id===n.id&&(JSON.stringify((0,y.Z)(t.currentAttributes).sort((function(t,n){return Object.keys(t)[0].localeCompare(Object.keys(n)[0])}))).slice(0,-3)===JSON.stringify((0,y.Z)(e).sort((function(t,n){return Object.keys(t)[0].localeCompare(Object.keys(n)[0])}))).slice(0,-3)?r.splice(c,1,(0,Z.Z)((0,Z.Z)({},r[c]),{},{quantity:r[c].quantity+1})):i++)})):r.push({id:n.id,brand:n.brand,name:n.name,attributes:n.attributes,currentAttributes:e,prices:n.prices,image:n.gallery[0],quantity:1});var c=[];r.forEach((function(t){return t.id===n.id&&c.push(t.id)})),i===c.length&&r.push({id:n.id,brand:n.brand,name:n.name,attributes:n.attributes,currentAttributes:e,prices:n.prices,image:n.gallery[0],quantity:1}),this.props.addToCart(r)}}},{key:"render",value:function(){var t=this,n=this.state.product,e=n.gallery,r=n.brand,i=n.name,c=n.attributes,u=n.prices,o=n.description,s=this.props.currentCurrency,a=this.state,d=a.currentImage,p=a.currentAttributes,l=null===u||void 0===u?void 0:u.find((function(t){return t.currency.symbol===s}));return(0,G.jsxs)(D,{children:[(0,G.jsx)(E,{children:null===e||void 0===e?void 0:e.map((function(n,e){return(0,G.jsx)($,{children:(0,G.jsx)(J,{src:n,onClick:t.currentImageClick})},e)}))}),e&&(0,G.jsx)(N,{src:d||e[0]}),(0,G.jsxs)(_,{children:[(0,G.jsx)(B,{children:r}),(0,G.jsx)(M,{children:i}),(0,G.jsx)(z.Z,{attributes:c,currentAttributes:p,handleClickAttribute:this.handleClickAttribute,origin:"page"}),(0,G.jsx)(R,{children:"Price:"}),(0,G.jsxs)(V,{children:[s,null===l||void 0===l?void 0:l.amount]}),(0,G.jsx)(X,{onClick:function(){return t.addToCart()},children:"ADD TO CART"}),(0,G.jsx)(F,{children:o})]})]})}}]),e}(C.PureComponent),K=(0,P.$j)((function(t){return{currentCurrency:t.cart.currentCurrency,products:t.cart.products}}),{addToCart:S.Xq})((0,A.Z)(H))}}]);
//# sourceMappingURL=ProductPage.27f3439d.chunk.js.map