"use strict";(self.webpackChunkScandiweb=self.webpackChunkScandiweb||[]).push([[85],{5824:function(t,n,e){e.r(n),e.d(n,{default:function(){return H}});var i,a,c,r,o,d,l,s,u,p,h,w,m=e(4165),v=e(5861),x=e(5671),g=e(3144),f=e(136),y=e(7277),b=e(2791),Z=e(7413),k=e(34),j=e(168),C=(0,e(4242).Ps)(i||(i=(0,j.Z)(["\n\tquery getProductsByCategory($category: String!) {\n\t\tcategory(input: { title: $category }) {\n\t\t\tproducts {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t\tbrand\n\t\t\t\tgallery\n\t\t\t\tinStock\n\t\t\t\tprices {\n\t\t\t\t\tcurrency {\n\t\t\t\t\t\tsymbol\n\t\t\t\t\t}\n\t\t\t\t\tamount\n\t\t\t\t}\n\t\t\t\tattributes {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t\ttype\n\t\t\t\t\titems {\n\t\t\t\t\t\tdisplayValue\n\t\t\t\t\t\tvalue\n\t\t\t\t\t\tid\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),z=e(1413),S=e(2982),A=e(4942),P=e(6434),O=e(5783),q=e(8221),T=e(6444),N=T.ZP.li(a||(a=(0,j.Z)(["\n\twidth: calc(386 / 1440 * 100vw);\n\tmax-width: 386px;\n\theight: calc(444 / 1440 * 100vw);\n\tmax-height: 444px;\n\topacity: ",";\n\n\t@media (max-width: 941px) {\n\t\twidth: calc(386 / 941 * 100vw);\n\t\theight: calc(444 / 941 * 100vw);\n\t}\n\n\t@media (max-width: 527px) {\n\t\twidth: calc(386 / 527 * 100vw);\n\t\theight: calc(444 / 527 * 100vw);\n\t\tmargin: 0 calc(20 / 527 * 100vw);\n\t}\n\n\t&:hover {\n\t\tbox-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n\t}\n"])),(function(t){return t.inStock?"1":"0.5"})),D=T.ZP.a(c||(c=(0,j.Z)(["\n\tposition: relative;\n\tdisplay: block;\n\twidth: calc(386 / 1440 * 100vw);\n\tmax-width: 386px;\n\theight: calc(444 / 1440 * 100vw);\n\tmax-height: 444px;\n\tpadding: calc(16 / 1440 * 100vw);\n\tcursor: pointer;\n\n\t@media (max-width: 941px) {\n\t\twidth: calc(386 / 941 * 100vw);\n\t\theight: calc(444 / 941 * 100vw);\n\t\tpadding: calc(16 / 941 * 100vw);\n\t}\n\n\t@media (max-width: 527px) {\n\t\twidth: calc(386 / 527 * 100vw);\n\t\theight: calc(444 / 527 * 100vw);\n\t\tpadding: calc(16 / 527 * 100vw);\n\t}\n\n\t@media (min-width: 1440px) {\n\t\tpadding: 16px;\n\t}\n"]))),E=T.ZP.img(r||(r=(0,j.Z)(["\n\tdisplay: block;\n\twidth: calc(354 / 1440 * 100vw);\n\tmax-width: 354px;\n\theight: calc(330 / 1440 * 100vw);\n\tmax-height: 330px;\n\tobject-fit: contain;\n\n\t@media (max-width: 941px) {\n\t\twidth: calc(354 / 941 * 100vw);\n\t\theight: calc(330 / 941 * 100vw);\n\t}\n\n\t@media (max-width: 527px) {\n\t\twidth: calc(354 / 527 * 100vw);\n\t\theight: calc(330 / 527 * 100vw);\n\t}\n\n\ta:hover &,\n\ta:focus & {\n\t\topacity: 0.1;\n\t}\n"]))),U=T.ZP.div(o||(o=(0,j.Z)(["\n\tposition: absolute;\n\ttop: calc(16 / 1440 * 100vw);\n\toverflow: hidden;\n\tdisplay: block;\n\twidth: calc(354 / 1440 * 100vw);\n\tmax-width: 354px;\n\theight: calc(330 / 1440 * 100vw);\n\tmax-height: 330px;\n\n\t@media (max-width: 941px) {\n\t\twidth: calc(354 / 941 * 100vw);\n\t\theight: calc(330 / 941 * 100vw);\n\t\ttop: calc(16 / 941 * 100vw);\n\t}\n\n\t@media (max-width: 527px) {\n\t\twidth: calc(354 / 527 * 100vw);\n\t\theight: calc(330 / 527 * 100vw);\n\t\ttop: calc(16 / 527 * 100vw);\n\t}\n"]))),$=T.ZP.div(d||(d=(0,j.Z)(["\n\tposition: absolute;\n\ttop: calc(16 / 1440 * 100vw);\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-around;\n\talign-items: center;\n\twidth: calc(354 / 1440 * 100vw);\n\tmax-width: 354px;\n\theight: calc(330 / 1440 * 100vw);\n\tmax-height: 330px;\n\ttransform: translateY(101%);\n\ttransition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n\t@media (max-width: 941px) {\n\t\twidth: calc(354 / 941 * 100vw);\n\t\theight: calc(330 / 941 * 100vw);\n\t\ttop: calc(16 / 941 * 100vw);\n\t}\n\n\t@media (max-width: 527px) {\n\t\twidth: calc(354 / 527 * 100vw);\n\t\theight: calc(330 / 527 * 100vw);\n\t\ttop: calc(16 / 527 * 100vw);\n\t}\n\n\ta:hover &,\n\ta:focus & {\n\t\ttransform: translateY(-5%);\n\t}\n"]))),F=T.ZP.button(l||(l=(0,j.Z)(["\n\tpadding: calc(16 / 1440 * 100vw) 0;\n\twidth: calc(354 / 1440 * 100vw);\n\tfont-weight: 600;\n\tfont-size: calc(16 / 1440 * 100vw);\n\tline-height: 120%;\n\tcolor: #fff;\n\tbackground-color: var(--accent-color);\n\tborder: 0;\n\tcursor: pointer;\n\tdisplay: ",";\n\n\t@media (max-width: 941px) {\n\t\tfont-size: calc(16 / 941 * 100vw);\n\t\tpadding: calc(16 / 941 * 100vw) 0;\n\t\twidth: calc(354 / 941 * 100vw);\n\t}\n\n\t@media (max-width: 527px) {\n\t\tfont-size: calc(16 / 527 * 100vw);\n\t\tpadding: calc(16 / 527 * 100vw) 0;\n\t\twidth: calc(354 / 527 * 100vw);\n\t}\n\n\t@media (min-width: 1440px) {\n\t\tfont-size: 16px;\n\t\tpadding: 16px 0;\n\t\twidth: 354px;\n\t}\n"])),(function(t){return t.inStock?"default":"none"})),J=T.ZP.h3(s||(s=(0,j.Z)(["\n\tmargin-top: calc(24 / 1440 * 100vw);\n\tfont-weight: 300;\n\tfont-size: calc(18 / 1440 * 100vw);\n\tline-height: 160%;\n\n\t@media (max-width: 941px) {\n\t\tfont-size: calc(18 / 941 * 100vw);\n\t\tmargin-top: calc(24 / 941 * 100vw);\n\t}\n\n\t@media (max-width: 527px) {\n\t\tfont-size: calc(18 / 527 * 100vw);\n\t\tmargin-top: calc(24 / 527 * 100vw);\n\t}\n\n\t@media (min-width: 1440px) {\n\t\tfont-size: 18px;\n\t\tmargin-top: 24px;\n\t}\n"]))),M=T.ZP.p(u||(u=(0,j.Z)(["\n\tfont-weight: 500;\n\tfont-size: calc(18 / 1440 * 100vw);\n\tline-height: 160%;\n\n\t@media (max-width: 941px) {\n\t\tfont-size: calc(18 / 941 * 100vw);\n\t}\n\n\t@media (max-width: 527px) {\n\t\tfont-size: calc(18 / 527 * 100vw);\n\t}\n\n\t@media (min-width: 1440px) {\n\t\tfont-size: 18px;\n\t}\n"]))),Y=T.ZP.p(p||(p=(0,j.Z)(["\n\tposition: absolute;\n\tleft: 50%;\n\ttop: calc(338 / 444 * 50%);\n\ttransform: translate(-50%, -50%);\n\tfont-weight: 400;\n\tfont-size: calc(24 / 1440 * 100vw);\n\tline-height: 38.4px;\n\n\t@media (max-width: 941px) {\n\t\tfont-size: calc(24 / 941 * 100vw);\n\t}\n\n\t@media (max-width: 527px) {\n\t\tfont-size: calc(24 / 527 * 100vw);\n\t}\n\n\t@media (min-width: 1440px) {\n\t\tfont-size: 24px;\n\t}\n\n\ta:hover &,\n\ta:focus & {\n\t\topacity: 0.1;\n\t}\n"]))),B=e(184),K=function(t){(0,f.Z)(e,t);var n=(0,y.Z)(e);function e(){var t;(0,x.Z)(this,e);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(t=n.call.apply(n,[this].concat(a))).state={currentAttributes:[]},t.defaultCurrentAttributes=function(){var n=t.props.inStock?t.props.attributes.reduce((function(t,n){var e=n.name,i=n.items;return t.push((0,A.Z)({},e,i[0].value)),t}),[]):[];t.setState({currentAttributes:n})},t.navigate=function(n,e){"li"!==n.target.localName&&"button"!==n.target.localName&&t.props.router.navigate("/Scandiweb/product/".concat(e))},t.handleClickAttribute=function(n,e){var i=(0,S.Z)(t.state.currentAttributes);null!==i&&void 0!==i&&i.some((function(t){return Object.keys(t)[0]===n}))?i.forEach((function(t,a){Object.keys(t)[0]===n&&t[n]===e?i.splice(a,1):Object.keys(i[a])[0]===n&&i.splice(a,1,(0,z.Z)((0,z.Z)({},i[a]),{},(0,A.Z)({},n,e)))})):i.push((0,A.Z)({},n,e)),t.setState({currentAttributes:i})},t}return(0,g.Z)(e,[{key:"componentDidMount",value:function(){this.defaultCurrentAttributes()}},{key:"addToCart",value:function(t,n,e,i,a,c){var r=this.state.currentAttributes,o=(0,S.Z)(this.props.products),d=0;if(c.length===r.length){o.some((function(n){return n.id===t}))?o.forEach((function(n,e){n.id===t&&(JSON.stringify((0,S.Z)(n.currentAttributes).sort((function(t,n){return Object.keys(t)[0].localeCompare(Object.keys(n)[0])}))).slice(0,-3)===JSON.stringify((0,S.Z)(r).sort((function(t,n){return Object.keys(t)[0].localeCompare(Object.keys(n)[0])}))).slice(0,-3)?o.splice(e,1,(0,z.Z)((0,z.Z)({},o[e]),{},{quantity:o[e].quantity+1})):d++)})):o.push({id:t,brand:e,name:i,attributes:c,currentAttributes:r,prices:a,gallery:n,quantity:1});var l=[];o.forEach((function(n){return n.id===t&&l.push(n.id)})),d===l.length&&o.push({id:t,brand:e,name:i,attributes:c,currentAttributes:r,prices:a,gallery:n,quantity:1}),this.props.addToCart(o)}}},{key:"render",value:function(){var t=this,n=this.props,e=n.id,i=n.gallery,a=n.brand,c=n.name,r=n.prices,o=n.attributes,d=n.inStock,l=n.currentCurrency,s=this.state.currentAttributes,u=r.reduce((function(t,n){var e=n.currency,i=n.amount;return(null===e||void 0===e?void 0:e.symbol)===l&&(t=i),t}),"");return(0,B.jsx)(N,{inStock:d,children:(0,B.jsxs)(D,{onClick:function(n){return t.navigate(n,e)},children:[(0,B.jsx)(E,{src:i[0]}),(0,B.jsx)(U,{children:(0,B.jsxs)($,{children:[(0,B.jsx)(q.Z,{attributes:o,currentAttributes:s,handleClickAttribute:this.handleClickAttribute,origin:"page",inStock:d}),(0,B.jsx)(F,{onClick:function(){return d&&t.addToCart(e,i,a,c,r,o)},inStock:d,children:"ADD TO CART"})]})}),!d&&(0,B.jsx)(Y,{children:"OUT OF STOCK"}),(0,B.jsxs)(J,{children:[a," ",c]}),(0,B.jsxs)(M,{children:[l,u]})]})})}}]),e}(b.PureComponent),R=(0,P.$j)((function(t){return{currentCurrency:t.cart.currentCurrency,products:t.cart.products}}),{addToCart:O.Xq})((0,Z.Z)(K)),V=T.ZP.h2(h||(h=(0,j.Z)(["\n\tmargin-bottom: calc(103 / 1440 * 100vw);\n\tpadding-top: calc(160 / 1440 * 100vw);\n\tfont-weight: 400;\n\tfont-size: calc(42 / 1440 * 100vw);\n\tline-height: 160%;\n\n\t@media (max-width: 1029px) {\n\t\tpadding-top: 114px;\n\t\tfont-size: 30px;\n\t}\n\n\t@media (min-width: 1440px) {\n\t\tmargin-bottom: 103px;\n\t\tpadding-top: 160px;\n\t\tfont-size: 42px;\n\t}\n"]))),X=T.ZP.ul(w||(w=(0,j.Z)(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, calc(386 / 1440 * 100vw));\n\tgrid-gap: calc(40 / 1440 * 100vw);\n\tlist-style-type: none;\n\n\t@media (max-width: 941px) {\n\t\tgrid-template-columns: repeat(2, calc(386 / 941 * 100vw));\n\t\tgrid-gap: calc(40 / 941 * 100vw);\n\t}\n\n\t@media (max-width: 527px) {\n\t\tgrid-template-columns: repeat(1, calc(386 / 527 * 100vw));\n\t\tgrid-gap: calc(40 / 527 * 100vw);\n\t}\n\n\t@media (min-width: 1440px) {\n\t\tgrid-template-columns: repeat(3, 386px);\n\t\tgrid-gap: 40px;\n\t}\n"]))),G=function(t){(0,f.Z)(e,t);var n=(0,y.Z)(e);function e(){var t;(0,x.Z)(this,e);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(t=n.call.apply(n,[this].concat(a))).state={products:[]},t}return(0,g.Z)(e,[{key:"componentDidMount",value:function(){this.fetchProducts()}},{key:"componentDidUpdate",value:function(){this.fetchProducts()}},{key:"fetchProducts",value:function(){var t=(0,v.Z)((0,m.Z)().mark((function t(){var n;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.Z.query({query:C,variables:{category:this.props.router.params.category||"all"}});case 2:n=t.sent,this.setState({products:n.data.category.products});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"categoryName",value:function(){var t=this.props.router.params.category||"all";return t[0].toUpperCase()+t.substring(1)}},{key:"render",value:function(){var t=this.state.products;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(V,{children:this.categoryName()}),(0,B.jsx)(X,{children:null===t||void 0===t?void 0:t.map((function(t){var n=t.id,e=t.gallery,i=t.name,a=t.brand,c=t.prices,r=t.attributes,o=t.inStock;return(0,B.jsx)(R,{id:n,gallery:e,brand:a,name:i,prices:c,attributes:r,inStock:o},n)}))})]})}}]),e}(b.PureComponent),H=(0,Z.Z)(G)}}]);
//# sourceMappingURL=ProductListPage.305e7e79.chunk.js.map