{"version":3,"file":"static/js/ProductListPage.305e7e79.chunk.js","mappings":"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","sources":["query/Products.query.js","component/ProductListCard/ProductListCard.styled.js","component/ProductListCard/ProductListCard.jsx","route/ProductListPage/ProductListPage.styled.js","route/ProductListPage/ProductListPage.jsx"],"sourcesContent":["import { gql } from \"@apollo/client\";\r\n\r\nconst GET_PRODUCTS = gql`\r\n\tquery getProductsByCategory($category: String!) {\r\n\t\tcategory(input: { title: $category }) {\r\n\t\t\tproducts {\r\n\t\t\t\tid\r\n\t\t\t\tname\r\n\t\t\t\tbrand\r\n\t\t\t\tgallery\r\n\t\t\t\tinStock\r\n\t\t\t\tprices {\r\n\t\t\t\t\tcurrency {\r\n\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t}\r\n\t\t\t\t\tamount\r\n\t\t\t\t}\r\n\t\t\t\tattributes {\r\n\t\t\t\t\tid\r\n\t\t\t\t\tname\r\n\t\t\t\t\ttype\r\n\t\t\t\t\titems {\r\n\t\t\t\t\t\tdisplayValue\r\n\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\tid\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nexport default GET_PRODUCTS;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ProductItem = styled.li`\r\n\twidth: calc(386 / 1440 * 100vw);\r\n\tmax-width: 386px;\r\n\theight: calc(444 / 1440 * 100vw);\r\n\tmax-height: 444px;\r\n\topacity: ${({ inStock }) => (inStock ? \"1\" : \"0.5\")};\r\n\r\n\t@media (max-width: 941px) {\r\n\t\twidth: calc(386 / 941 * 100vw);\r\n\t\theight: calc(444 / 941 * 100vw);\r\n\t}\r\n\r\n\t@media (max-width: 527px) {\r\n\t\twidth: calc(386 / 527 * 100vw);\r\n\t\theight: calc(444 / 527 * 100vw);\r\n\t\tmargin: 0 calc(20 / 527 * 100vw);\r\n\t}\r\n\r\n\t&:hover {\r\n\t\tbox-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\r\n\t}\r\n`;\r\n\r\nexport const ProductLink = styled.a`\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\twidth: calc(386 / 1440 * 100vw);\r\n\tmax-width: 386px;\r\n\theight: calc(444 / 1440 * 100vw);\r\n\tmax-height: 444px;\r\n\tpadding: calc(16 / 1440 * 100vw);\r\n\tcursor: pointer;\r\n\r\n\t@media (max-width: 941px) {\r\n\t\twidth: calc(386 / 941 * 100vw);\r\n\t\theight: calc(444 / 941 * 100vw);\r\n\t\tpadding: calc(16 / 941 * 100vw);\r\n\t}\r\n\r\n\t@media (max-width: 527px) {\r\n\t\twidth: calc(386 / 527 * 100vw);\r\n\t\theight: calc(444 / 527 * 100vw);\r\n\t\tpadding: calc(16 / 527 * 100vw);\r\n\t}\r\n\r\n\t@media (min-width: 1440px) {\r\n\t\tpadding: 16px;\r\n\t}\r\n`;\r\n\r\nexport const ProductImage = styled.img`\r\n\tdisplay: block;\r\n\twidth: calc(354 / 1440 * 100vw);\r\n\tmax-width: 354px;\r\n\theight: calc(330 / 1440 * 100vw);\r\n\tmax-height: 330px;\r\n\tobject-fit: contain;\r\n\r\n\t@media (max-width: 941px) {\r\n\t\twidth: calc(354 / 941 * 100vw);\r\n\t\theight: calc(330 / 941 * 100vw);\r\n\t}\r\n\r\n\t@media (max-width: 527px) {\r\n\t\twidth: calc(354 / 527 * 100vw);\r\n\t\theight: calc(330 / 527 * 100vw);\r\n\t}\r\n\r\n\ta:hover &,\r\n\ta:focus & {\r\n\t\topacity: 0.1;\r\n\t}\r\n`;\r\n\r\nexport const ProductThumb = styled.div`\r\n\tposition: absolute;\r\n\ttop: calc(16 / 1440 * 100vw);\r\n\toverflow: hidden;\r\n\tdisplay: block;\r\n\twidth: calc(354 / 1440 * 100vw);\r\n\tmax-width: 354px;\r\n\theight: calc(330 / 1440 * 100vw);\r\n\tmax-height: 330px;\r\n\r\n\t@media (max-width: 941px) {\r\n\t\twidth: calc(354 / 941 * 100vw);\r\n\t\theight: calc(330 / 941 * 100vw);\r\n\t\ttop: calc(16 / 941 * 100vw);\r\n\t}\r\n\r\n\t@media (max-width: 527px) {\r\n\t\twidth: calc(354 / 527 * 100vw);\r\n\t\theight: calc(330 / 527 * 100vw);\r\n\t\ttop: calc(16 / 527 * 100vw);\r\n\t}\r\n`;\r\n\r\nexport const ProductOrder = styled.div`\r\n\tposition: absolute;\r\n\ttop: calc(16 / 1440 * 100vw);\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-around;\r\n\talign-items: center;\r\n\twidth: calc(354 / 1440 * 100vw);\r\n\tmax-width: 354px;\r\n\theight: calc(330 / 1440 * 100vw);\r\n\tmax-height: 330px;\r\n\ttransform: translateY(101%);\r\n\ttransition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n\t@media (max-width: 941px) {\r\n\t\twidth: calc(354 / 941 * 100vw);\r\n\t\theight: calc(330 / 941 * 100vw);\r\n\t\ttop: calc(16 / 941 * 100vw);\r\n\t}\r\n\r\n\t@media (max-width: 527px) {\r\n\t\twidth: calc(354 / 527 * 100vw);\r\n\t\theight: calc(330 / 527 * 100vw);\r\n\t\ttop: calc(16 / 527 * 100vw);\r\n\t}\r\n\r\n\ta:hover &,\r\n\ta:focus & {\r\n\t\ttransform: translateY(-5%);\r\n\t}\r\n`;\r\n\r\nexport const Button = styled.button`\r\n\tpadding: calc(16 / 1440 * 100vw) 0;\r\n\twidth: calc(354 / 1440 * 100vw);\r\n\tfont-weight: 600;\r\n\tfont-size: calc(16 / 1440 * 100vw);\r\n\tline-height: 120%;\r\n\tcolor: #fff;\r\n\tbackground-color: var(--accent-color);\r\n\tborder: 0;\r\n\tcursor: pointer;\r\n\tdisplay: ${({ inStock }) => (inStock ? \"default\" : \"none\")};\r\n\r\n\t@media (max-width: 941px) {\r\n\t\tfont-size: calc(16 / 941 * 100vw);\r\n\t\tpadding: calc(16 / 941 * 100vw) 0;\r\n\t\twidth: calc(354 / 941 * 100vw);\r\n\t}\r\n\r\n\t@media (max-width: 527px) {\r\n\t\tfont-size: calc(16 / 527 * 100vw);\r\n\t\tpadding: calc(16 / 527 * 100vw) 0;\r\n\t\twidth: calc(354 / 527 * 100vw);\r\n\t}\r\n\r\n\t@media (min-width: 1440px) {\r\n\t\tfont-size: 16px;\r\n\t\tpadding: 16px 0;\r\n\t\twidth: 354px;\r\n\t}\r\n`;\r\n\r\nexport const ProductName = styled.h3`\r\n\tmargin-top: calc(24 / 1440 * 100vw);\r\n\tfont-weight: 300;\r\n\tfont-size: calc(18 / 1440 * 100vw);\r\n\tline-height: 160%;\r\n\r\n\t@media (max-width: 941px) {\r\n\t\tfont-size: calc(18 / 941 * 100vw);\r\n\t\tmargin-top: calc(24 / 941 * 100vw);\r\n\t}\r\n\r\n\t@media (max-width: 527px) {\r\n\t\tfont-size: calc(18 / 527 * 100vw);\r\n\t\tmargin-top: calc(24 / 527 * 100vw);\r\n\t}\r\n\r\n\t@media (min-width: 1440px) {\r\n\t\tfont-size: 18px;\r\n\t\tmargin-top: 24px;\r\n\t}\r\n`;\r\n\r\nexport const ProductPrice = styled.p`\r\n\tfont-weight: 500;\r\n\tfont-size: calc(18 / 1440 * 100vw);\r\n\tline-height: 160%;\r\n\r\n\t@media (max-width: 941px) {\r\n\t\tfont-size: calc(18 / 941 * 100vw);\r\n\t}\r\n\r\n\t@media (max-width: 527px) {\r\n\t\tfont-size: calc(18 / 527 * 100vw);\r\n\t}\r\n\r\n\t@media (min-width: 1440px) {\r\n\t\tfont-size: 18px;\r\n\t}\r\n`;\r\n\r\nexport const OutOfStock = styled.p`\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\ttop: calc(338 / 444 * 50%);\r\n\ttransform: translate(-50%, -50%);\r\n\tfont-weight: 400;\r\n\tfont-size: calc(24 / 1440 * 100vw);\r\n\tline-height: 38.4px;\r\n\r\n\t@media (max-width: 941px) {\r\n\t\tfont-size: calc(24 / 941 * 100vw);\r\n\t}\r\n\r\n\t@media (max-width: 527px) {\r\n\t\tfont-size: calc(24 / 527 * 100vw);\r\n\t}\r\n\r\n\t@media (min-width: 1440px) {\r\n\t\tfont-size: 24px;\r\n\t}\r\n\r\n\ta:hover &,\r\n\ta:focus & {\r\n\t\topacity: 0.1;\r\n\t}\r\n`;\r\n","import { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport withRouter from \"route/withRouter\";\r\nimport { addToCart } from \"store/cartSlice\";\r\nimport ProductAttributes from \"component/ProductAttributes\";\r\nimport {\r\n\tProductItem,\r\n\tProductLink,\r\n\tProductImage,\r\n\tProductThumb,\r\n\tProductOrder,\r\n\tButton,\r\n\tProductName,\r\n\tProductPrice,\r\n\tOutOfStock,\r\n} from \"./ProductListCard.styled\";\r\n\r\nconst mapStateToProps = state => ({\r\n\tcurrentCurrency: state.cart.currentCurrency,\r\n\tproducts: state.cart.products,\r\n});\r\n\r\nexport class ProductListCard extends PureComponent {\r\n\tstate = { currentAttributes: [] };\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.defaultCurrentAttributes();\r\n\t}\r\n\r\n\tdefaultCurrentAttributes = () => {\r\n\t\tconst currentAttributes = this.props.inStock\r\n\t\t\t? this.props.attributes.reduce((currentAttributes, { name, items }) => {\r\n\t\t\t\t\tcurrentAttributes.push({ [name]: items[0].value });\r\n\t\t\t\t\treturn currentAttributes;\r\n\t\t\t  }, [])\r\n\t\t\t: [];\r\n\r\n\t\tthis.setState({\r\n\t\t\tcurrentAttributes: currentAttributes,\r\n\t\t});\r\n\t};\r\n\r\n\tnavigate = (event, id) => {\r\n\t\tif (event.target.localName !== \"li\" && event.target.localName !== \"button\") {\r\n\t\t\tthis.props.router.navigate(`/Scandiweb/product/${id}`);\r\n\t\t}\r\n\t};\r\n\r\n\thandleClickAttribute = (name, value) => {\r\n\t\tconst currentAttributes = [...this.state.currentAttributes];\r\n\t\tcurrentAttributes?.some(currentAttribute => Object.keys(currentAttribute)[0] === name)\r\n\t\t\t? currentAttributes.forEach((currentAttribute, index) => {\r\n\t\t\t\t\tObject.keys(currentAttribute)[0] === name && currentAttribute[name] === value\r\n\t\t\t\t\t\t? currentAttributes.splice(index, 1)\r\n\t\t\t\t\t\t: Object.keys(currentAttributes[index])[0] === name &&\r\n\t\t\t\t\t\t  currentAttributes.splice(index, 1, { ...currentAttributes[index], [name]: value });\r\n\t\t\t  })\r\n\t\t\t: currentAttributes.push({ [name]: value });\r\n\r\n\t\tthis.setState({ currentAttributes: currentAttributes });\r\n\t};\r\n\r\n\taddToCart(id, gallery, brand, name, prices, attributes) {\r\n\t\tconst { currentAttributes } = this.state;\r\n\t\tconst currentProducts = [...this.props.products];\r\n\t\tlet counter = 0;\r\n\r\n\t\tif (attributes.length === currentAttributes.length) {\r\n\t\t\tcurrentProducts.some(currentProduct => currentProduct.id === id)\r\n\t\t\t\t? currentProducts.forEach((currentProduct, index) => {\r\n\t\t\t\t\t\tif (currentProduct.id === id) {\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\tJSON.stringify(\r\n\t\t\t\t\t\t\t\t\t[...currentProduct.currentAttributes].sort((a, b) =>\r\n\t\t\t\t\t\t\t\t\t\tObject.keys(a)[0].localeCompare(Object.keys(b)[0]),\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t).slice(0, -3) ===\r\n\t\t\t\t\t\t\t\tJSON.stringify(\r\n\t\t\t\t\t\t\t\t\t[...currentAttributes].sort((a, b) => Object.keys(a)[0].localeCompare(Object.keys(b)[0])),\r\n\t\t\t\t\t\t\t\t).slice(0, -3)\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tcurrentProducts.splice(index, 1, {\r\n\t\t\t\t\t\t\t\t\t...currentProducts[index],\r\n\t\t\t\t\t\t\t\t\tquantity: currentProducts[index].quantity + 1,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t  })\r\n\t\t\t\t: currentProducts.push({\r\n\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\tbrand: brand,\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tattributes: attributes,\r\n\t\t\t\t\t\tcurrentAttributes: currentAttributes,\r\n\t\t\t\t\t\tprices: prices,\r\n\t\t\t\t\t\tgallery: gallery,\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t  });\r\n\r\n\t\t\tconst productsIdUnique = [];\r\n\t\t\tcurrentProducts.forEach(currentProduct => currentProduct.id === id && productsIdUnique.push(currentProduct.id));\r\n\r\n\t\t\tcounter === productsIdUnique.length &&\r\n\t\t\t\tcurrentProducts.push({\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\tbrand: brand,\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tattributes: attributes,\r\n\t\t\t\t\tcurrentAttributes: currentAttributes,\r\n\t\t\t\t\tprices: prices,\r\n\t\t\t\t\tgallery: gallery,\r\n\t\t\t\t\tquantity: 1,\r\n\t\t\t\t});\r\n\r\n\t\t\tthis.props.addToCart(currentProducts);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { id, gallery, brand, name, prices, attributes, inStock, currentCurrency } = this.props;\r\n\t\tconst { currentAttributes } = this.state;\r\n\t\tconst currentAmount = prices.reduce((currentAmount, { currency, amount }) => {\r\n\t\t\tif (currency?.symbol === currentCurrency) {\r\n\t\t\t\tcurrentAmount = amount;\r\n\t\t\t}\r\n\t\t\treturn currentAmount;\r\n\t\t}, \"\");\r\n\r\n\t\treturn (\r\n\t\t\t<ProductItem inStock={inStock}>\r\n\t\t\t\t<ProductLink onClick={event => this.navigate(event, id)}>\r\n\t\t\t\t\t<ProductImage src={gallery[0]} />\r\n\t\t\t\t\t<ProductThumb>\r\n\t\t\t\t\t\t<ProductOrder>\r\n\t\t\t\t\t\t\t<ProductAttributes\r\n\t\t\t\t\t\t\t\tattributes={attributes}\r\n\t\t\t\t\t\t\t\tcurrentAttributes={currentAttributes}\r\n\t\t\t\t\t\t\t\thandleClickAttribute={this.handleClickAttribute}\r\n\t\t\t\t\t\t\t\torigin={\"page\"}\r\n\t\t\t\t\t\t\t\tinStock={inStock}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => inStock && this.addToCart(id, gallery, brand, name, prices, attributes)}\r\n\t\t\t\t\t\t\t\tinStock={inStock}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD TO CART\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</ProductOrder>\r\n\t\t\t\t\t</ProductThumb>\r\n\t\t\t\t\t{!inStock && <OutOfStock>OUT OF STOCK</OutOfStock>}\r\n\t\t\t\t\t<ProductName>\r\n\t\t\t\t\t\t{brand} {name}\r\n\t\t\t\t\t</ProductName>\r\n\t\t\t\t\t<ProductPrice>\r\n\t\t\t\t\t\t{currentCurrency}\r\n\t\t\t\t\t\t{currentAmount}\r\n\t\t\t\t\t</ProductPrice>\r\n\t\t\t\t</ProductLink>\r\n\t\t\t</ProductItem>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, { addToCart })(withRouter(ProductListCard));\r\n","import styled from \"styled-components\";\r\n\r\nexport const CategoryName = styled.h2`\r\n\tmargin-bottom: calc(103 / 1440 * 100vw);\r\n\tpadding-top: calc(160 / 1440 * 100vw);\r\n\tfont-weight: 400;\r\n\tfont-size: calc(42 / 1440 * 100vw);\r\n\tline-height: 160%;\r\n\r\n\t@media (max-width: 1029px) {\r\n\t\tpadding-top: 114px;\r\n\t\tfont-size: 30px;\r\n\t}\r\n\r\n\t@media (min-width: 1440px) {\r\n\t\tmargin-bottom: 103px;\r\n\t\tpadding-top: 160px;\r\n\t\tfont-size: 42px;\r\n\t}\r\n`;\r\n\r\nexport const ProductList = styled.ul`\r\n\tdisplay: grid;\r\n\tgrid-template-columns: repeat(3, calc(386 / 1440 * 100vw));\r\n\tgrid-gap: calc(40 / 1440 * 100vw);\r\n\tlist-style-type: none;\r\n\r\n\t@media (max-width: 941px) {\r\n\t\tgrid-template-columns: repeat(2, calc(386 / 941 * 100vw));\r\n\t\tgrid-gap: calc(40 / 941 * 100vw);\r\n\t}\r\n\r\n\t@media (max-width: 527px) {\r\n\t\tgrid-template-columns: repeat(1, calc(386 / 527 * 100vw));\r\n\t\tgrid-gap: calc(40 / 527 * 100vw);\r\n\t}\r\n\r\n\t@media (min-width: 1440px) {\r\n\t\tgrid-template-columns: repeat(3, 386px);\r\n\t\tgrid-gap: 40px;\r\n\t}\r\n`;\r\n","import { PureComponent } from \"react\";\r\n\r\nimport withRouter from \"route/withRouter\";\r\nimport client from \"query/apolloClient\";\r\nimport GET_PRODUCTS from \"query/Products.query\";\r\nimport ProductListCard from \"component/ProductListCard\";\r\nimport { CategoryName, ProductList } from \"./ProductListPage.styled\";\r\n\r\nexport class CategoryPageContainer extends PureComponent {\r\n\tstate = { products: [] };\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fetchProducts();\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tthis.fetchProducts();\r\n\t}\r\n\r\n\tasync fetchProducts() {\r\n\t\tconst result = await client.query({\r\n\t\t\tquery: GET_PRODUCTS,\r\n\t\t\tvariables: {\r\n\t\t\t\tcategory: this.props.router.params.category || \"all\",\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tthis.setState({ products: result.data.category.products });\r\n\t}\r\n\r\n\tcategoryName() {\r\n\t\tconst categoryName = this.props.router.params.category || \"all\";\r\n\t\tconst categoryNameCapitalized = categoryName[0].toUpperCase() + categoryName.substring(1);\r\n\t\treturn categoryNameCapitalized;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { products } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<CategoryName>{this.categoryName()}</CategoryName>\r\n\t\t\t\t<ProductList>\r\n\t\t\t\t\t{products?.map(({ id, gallery, name, brand, prices, attributes, inStock }) => (\r\n\t\t\t\t\t\t<ProductListCard\r\n\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\t\tgallery={gallery}\r\n\t\t\t\t\t\t\tbrand={brand}\r\n\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\tprices={prices}\r\n\t\t\t\t\t\t\tattributes={attributes}\r\n\t\t\t\t\t\t\tinStock={inStock}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ProductList>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(CategoryPageContainer);\r\n"],"names":["gql","ProductItem","styled","inStock","ProductLink","ProductImage","ProductThumb","ProductOrder","Button","ProductName","ProductPrice","OutOfStock","ProductListCard","state","currentAttributes","defaultCurrentAttributes","props","attributes","reduce","name","items","push","value","setState","navigate","event","id","target","localName","router","handleClickAttribute","some","currentAttribute","Object","keys","forEach","index","splice","this","gallery","brand","prices","currentProducts","products","counter","length","currentProduct","JSON","stringify","sort","a","b","localeCompare","slice","quantity","productsIdUnique","addToCart","currentCurrency","currentAmount","currency","amount","symbol","onClick","src","ProductAttributes","origin","PureComponent","connect","cart","withRouter","CategoryName","ProductList","CategoryPageContainer","fetchProducts","client","query","GET_PRODUCTS","variables","category","params","result","data","categoryName","toUpperCase","substring","map"],"sourceRoot":""}